<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>tech.v3.libs.arrow documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">tech.ml.dataset</span> <span class="project-version">6.047-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="columns-readers-and-datatypes.html"><div class="inner"><span>Columns, Readers, and Datatypes</span></div></a></li><li class="depth-1 "><a href="nippy-serialization-rocks.html"><div class="inner"><span>Nippy Rocks!</span></div></a></li><li class="depth-1 "><a href="quick-reference.html"><div class="inner"><span>Quick Reference - Core API</span></div></a></li><li class="depth-1 "><a href="supported-datatypes.html"><div class="inner"><span>Supported Datatypes</span></div></a></li><li class="depth-1 "><a href="walkthrough.html"><div class="inner"><span>tech.ml.dataset Walkthrough</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tech</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>v3</span></div></div></li><li class="depth-3"><a href="tech.v3.dataset.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dataset</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.categorical.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>categorical</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.clipboard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clipboard</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.column.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>column</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.column-filters.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>column-filters</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-5 branch"><a href="tech.v3.dataset.io.datetime.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datetime</span></div></a></li><li class="depth-5 branch"><a href="tech.v3.dataset.io.string-row-parser.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>string-row-parser</span></div></a></li><li class="depth-5"><a href="tech.v3.dataset.io.univocity.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>univocity</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.join.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>join</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.metamorph.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metamorph</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.modelling.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>modelling</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.neanderthal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>neanderthal</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.print.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>print</span></div></a></li><li class="depth-4"><a href="tech.v3.dataset.reductions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reductions</span></div></a></li><li class="depth-5"><a href="tech.v3.dataset.reductions.apache-data-sketch.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>apache-data-sketch</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.dataset.rolling.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>rolling</span></div></a></li><li class="depth-4"><a href="tech.v3.dataset.tensor.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tensor</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -579px;"><span class="top" style="height: 588px;"></span><span class="bottom"></span></span><span>libs</span></div></div></li><li class="depth-4 branch current"><a href="tech.v3.libs.arrow.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>arrow</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.libs.fastexcel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fastexcel</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>guava</span></div></div></li><li class="depth-5"><a href="tech.v3.libs.guava.cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cache</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.libs.parquet.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>parquet</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.libs.poi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>poi</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>smile</span></div></div></li><li class="depth-5"><a href="tech.v3.libs.smile.data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="tech.v3.libs.arrow.html#var-arrow-in-memory-writer"><div class="inner"><span>arrow-in-memory-writer</span></div></a></li><li class="depth-1"><a href="tech.v3.libs.arrow.html#var-arrow-output-stream-writer"><div class="inner"><span>arrow-output-stream-writer</span></div></a></li><li class="depth-1"><a href="tech.v3.libs.arrow.html#var-col-.3Efield"><div class="inner"><span>col-&gt;field</span></div></a></li><li class="depth-1"><a href="tech.v3.libs.arrow.html#var-create-in-memory-byte-channel"><div class="inner"><span>create-in-memory-byte-channel</span></div></a></li><li class="depth-1"><a href="tech.v3.libs.arrow.html#var-read-stream-dataset-copying"><div class="inner"><span>read-stream-dataset-copying</span></div></a></li><li class="depth-1"><a href="tech.v3.libs.arrow.html#var-stream-.3Edataset-seq-copying"><div class="inner"><span>stream-&gt;dataset-seq-copying</span></div></a></li><li class="depth-1"><a href="tech.v3.libs.arrow.html#var-stream-.3Edataset-seq-inplace"><div class="inner"><span>stream-&gt;dataset-seq-inplace</span></div></a></li><li class="depth-1"><a href="tech.v3.libs.arrow.html#var-write-dataset.21"><div class="inner"><span>write-dataset!</span></div></a></li><li class="depth-1"><a href="tech.v3.libs.arrow.html#var-write-dataset-seq.21"><div class="inner"><span>write-dataset-seq!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">tech.v3.libs.arrow</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-arrow-in-memory-writer"><h3>arrow-in-memory-writer</h3><div class="usage"><code>(arrow-in-memory-writer)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.ml.dataset/blob/master/src/tech/v3/libs/arrow.clj#L71">view source</a></div></div><div class="public anchor" id="var-arrow-output-stream-writer"><h3>arrow-output-stream-writer</h3><div class="usage"><code>(arrow-output-stream-writer ostream)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.ml.dataset/blob/master/src/tech/v3/libs/arrow.clj#L78">view source</a></div></div><div class="public anchor" id="var-col-.3Efield"><h3>col-&gt;field</h3><div class="usage"><code>(col-&gt;field dictionaries {:keys [strings-as-text? :tech.v3.libs.arrow/hash-salt]} col)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.ml.dataset/blob/master/src/tech/v3/libs/arrow.clj#L405">view source</a></div></div><div class="public anchor" id="var-create-in-memory-byte-channel"><h3>create-in-memory-byte-channel</h3><div class="usage"><code>(create-in-memory-byte-channel)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/techascent/tech.ml.dataset/blob/master/src/tech/v3/libs/arrow.clj#L54">view source</a></div></div><div class="public anchor" id="var-read-stream-dataset-copying"><h3>read-stream-dataset-copying</h3><div class="usage"><code>(read-stream-dataset-copying fname &amp; [options])</code></div><div class="doc"><div class="markdown"><p>Read a single dataset from a stream in arrow stream format.  See options for
<a href="tech.v3.libs.arrow.html#var-stream-.3Edataset-seq-inplace">stream-&gt;dataset-seq-inplace</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/techascent/tech.ml.dataset/blob/master/src/tech/v3/libs/arrow.clj#L1130">view source</a></div></div><div class="public anchor" id="var-stream-.3Edataset-seq-copying"><h3>stream-&gt;dataset-seq-copying</h3><div class="usage"><code>(stream-&gt;dataset-seq-copying fname &amp; [options])</code></div><div class="doc"><div class="markdown"><p>Read a stream lazily returning a sequence of datasets.  See options for
<a href="tech.v3.libs.arrow.html#var-stream-.3Edataset-seq-inplace">stream-&gt;dataset-seq-inplace</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/techascent/tech.ml.dataset/blob/master/src/tech/v3/libs/arrow.clj#L1113">view source</a></div></div><div class="public anchor" id="var-stream-.3Edataset-seq-inplace"><h3>stream-&gt;dataset-seq-inplace</h3><div class="usage"><code>(stream-&gt;dataset-seq-inplace fname &amp; [options])</code></div><div class="doc"><div class="markdown"><p>Loads data up to and including the first data record.  Returns the a lazy
sequence of datasets.  Datasets use mmapped data, however, so realizing the
entire sequence is usually safe, even for datasets that are larger than
available RAM.
This method is expected to be called from within a stack resource context
unless options include {:resource-type :gc}.  See documentation for
tech.v3.datatype.mmap/mmap-file.</p>
<p>Options:</p>
<ul>
<li><code>:integer-datetime-types?</code> - when true arrow columns in the appropriate packed
datatypes will be represented as their integer types as opposed to their respective
packed types.  For example columns of type <code>:epoch-days</code> will be returned to the user
as datatype <code>:epoch-days</code> as opposed to <code>:packed-local-date</code>.  This means reading values
will return integers as opposed to <code>java.time.LocalDate</code>s.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/techascent/tech.ml.dataset/blob/master/src/tech/v3/libs/arrow.clj#L1052">view source</a></div></div><div class="public anchor" id="var-write-dataset.21"><h3>write-dataset!</h3><div class="usage"><code>(write-dataset! ds path options)</code><code>(write-dataset! ds path)</code></div><div class="doc"><div class="markdown"><p>Write a dataset as an arrow stream file.  File will contain one record set.</p>
<p>Options:</p>
<ul>
<li><code>strings-as-text?</code>: - defaults to false - Save out strings into arrow files without
dictionaries.  This works well if you want to load an arrow file in-place or if
you know the strings in your dataset are either really large or should not be in
string tables.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/techascent/tech.ml.dataset/blob/master/src/tech/v3/libs/arrow.clj#L1139">view source</a></div></div><div class="public anchor" id="var-write-dataset-seq.21"><h3>write-dataset-seq!</h3><div class="usage"><code>(write-dataset-seq! ds-seq path options)</code><code>(write-dataset-seq! ds path)</code></div><div class="doc"><div class="markdown"><p>Write a sequence of datasets as an arrow stream file.  File will contain one record set.</p>
<p>Options:</p>
<ul>
<li><code>strings-as-text?</code>: - defaults to false - Save out strings into arrow files without
dictionaries.  This works well if you want to load an arrow file in-place or if
you know the strings in your dataset are either really large or should not be in
string tables.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/techascent/tech.ml.dataset/blob/master/src/tech/v3/libs/arrow.clj#L1170">view source</a></div></div></div></body></html>